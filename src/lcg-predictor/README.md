# 線形合同法乱数予測ツール (LCG Predictor)

このツールは、線形合同法（Linear Congruential Generator, LCG）によって生成される擬似乱数列を予測するためのウェブツールです。

## 線形合同法とは

線形合同法は、以下の漸化式に基づいて擬似乱数を生成する最も単純で広く使われているアルゴリズムの一つです。

X\_{n+1} = (a × X_n + c) mod m

ここで各パラメータは以下の通りです

- X_0 は初期シード (seed)
- a は乗数 (multiplier)
- c は増分 (increment)
- m は法 (modulus)

このとき以下を満たします

- a, c, m は整数
- 0 < a < m
- 0 ≤ c < m

## 乱数予測について

線形合同法は、パラメータが既知であれば次の値を簡単に計算できます。しかし、パラメータが未知の場合でも、十分な数の乱数列があれば、それらを予測することが可能です：

1. **増分(c)のみが未知の場合**: 連続した2つの乱数値があれば計算可能
2. **乗数(a)と増分(c)が未知の場合**: 連続した3つの乱数値があれば計算可能
3. **すべてのパラメータ(a, c, m)が未知の場合**: 少なくとも連続した6つの乱数値が必要（それ以上必要な場合もある）

このツールは、与えられた乱数列から自動的にパラメータを推定し、次の値を予測します。

## 使い方

Note: [BigInt](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/BigInt) を使用しているため、JavaScriptのNumber型の範囲を超える値を設定できます。（BigIntの範囲はブラウザの実装によって異なるようです。）

### 乱数生成

1. **パラメータ設定**：

   - 各パラメータをそれぞれの欄に入力してください。
   - プリセットを選択すると、そのパラメータが入力されます。

2. **乱数生成**：
   - 「乱数生成」ボタンをクリックすると、入力されたパラメータに基づいて続きの乱数列が生成・表示されます。

### 乱数予測

1. **既知の乱数列入力**：

   - LCGで生成された、連続した乱数列を入力してください。
   - 少なくとも6つの連続した乱数が必要です（すべてのパラメータが未知の場合）。
   - 増分のみが未知の場合は2つ、乗数と増分が未知の場合は3つの乱数値で予測可能です。
   - 続けて乱数を入力するには「追加」ボタンをクリックします。

2. **予測**：
   - 「次の値を予測」ボタンをクリックしてください。
   - それまでに入力された乱数に基づいて各パラメータの値が一意に求められた場合は、続く乱数列が計算・表示されます。また、その時の各パラメータの値も表示されます。
   - 各パラメータの値が絞り込めない場合は、可能性のある各パラメータの組み合わせが表示されます。各パラメータの値を一意に求めたい場合は、既知の乱数列入力を続けてください。
