# 発射体指揮装置シミュレーター

このプロジェクトは、移動する目標に対して発射体を発射する際のリード角（先行角）を計算・視覚化するシミュレーターです。Three.jsを使用して高性能なグラフィックス処理を実現しています。

## 機能

- マウスまたはプログラムによる目標の動き制御
- 目標の位置と速度のリアルタイム計算
- 発射体の速度調整
- リード角と予測到達時間の計算と表示
- 予測照準線の表示
- 複数のフィルタータイプによる速度安定化

## 技術スタック

- TypeScript
- Three.js (WebGLベースの3Dレンダリング)
- 物理計算ライブラリ (将来的な拡張)
- 純粋なDOMとHTML/CSS (Reactを使用せず)

## プロジェクト構造

```plaintext
src/projectile-director/
├── domain/                        # ドメインモデルと型定義
│   └── projectile.ts              # 発射体と関連モデルの型定義
├── utils/                         # 共通ユーティリティ
│   ├── filters.ts                 # 速度フィルター実装
│   └── projectileCalculator.ts    # 発射体計算ロジック
├── core/                          # コアモジュール
│   ├── settings.ts                # シミュレーション設定
│   ├── projectile.ts              # 発射体クラス
│   ├── renderer.ts                # Three.jsレンダラー
│   └── simulation.ts              # シミュレーションロジック
├── input/                         # 入力関連のモジュール
│   └── controls.ts                # ユーザー入力制御
├── ui/                            # UI関連のモジュール
│   └── interface.ts               # UIハンドラー
├── index.html                     # メインHTML
└── main.ts                        # エントリーポイント
```

## 使い方

1. アプリケーションを起動
2. マウスを動かして目標を追跡、または自動動作モードを選択
3. 画面をクリックして発射体を発射
4. シミュレーション設定で各種パラメータを調整可能：
   - 発射体の速度
   - 目標サイズ
   - フィルタータイプ（速度安定化）
   - 目標の動作モード
   - その他の物理パラメータ

## 計算ロジック

このシミュレーターでは、以下の計算を行います：

1. 目標の位置と速度の計算
2. リード角の計算（正弦定理を使用）
3. 予測到達時間の計算
4. 予測位置の計算と表示

## 将来の拡張予定

- ARカメラ統合
- モバイルデバイスのセンサー活用
- 3D表示と計算の完全サポート
- より複雑な物理モデル（重力、空気抵抗）

## 開発プロセス

### ローカル開発環境のセットアップ

```bash
# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev
```

### 本番ビルド

```bash
# 本番用ビルド
npm run build

# ビルド結果のプレビュー
npm run preview
```
